(this["webpackJsonpsimple-chat"]=this["webpackJsonpsimple-chat"]||[]).push([[0],{116:function(s,e,t){},118:function(s,e,t){},122:function(s,e,t){},123:function(s,e,t){},124:function(s,e,t){"use strict";t.r(e);var c=t(1),a=t.n(c),n=t(57),r=t.n(n),i=(t(65),t(3)),d=t(6),l=t(58),j=t.n(l)()("https://tranquil-reef-66373.herokuapp.com"),h=(t(2),t(8),t(27)),u=(t(35),t(116),t(0)),_=t(4),b=function(s,e){switch(e.type){case"SET_AUTH":return Object(i.a)(Object(i.a)(Object(i.a)({},s),e.payload),{},{isAuth:!0});case"SET_USERS":return Object(i.a)(Object(i.a)({},s),{},{users:e.users});case"SET_MESSAGES":return Object(i.a)(Object(i.a)({},s),{},{messages:e.messages});case"ADD_MSG":return Object(i.a)(Object(i.a)({},s),{},{messages:[].concat(Object(_.a)(s.messages),[e.msg])})}};t(118);var o=t(60),O=(t(122),function(s){var e=s.userName,t=s.roomId,c=(s.isAuth,s.users),n=s.messages,r=a.a.useState(!1),l=Object(d.a)(r,2),_=l[0],b=l[1],O=a.a.useRef(null),g=Object(h.a)(),x=g.register,p=g.handleSubmit,m=g.reset;return a.a.useEffect((function(){O.current.scrollTop=O.current.scrollHeight}),[n]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{class:"chat-page",children:Object(u.jsxs)("div",{class:"chat-page__body",children:[Object(u.jsxs)("header",{class:"chat-page__header",children:[Object(u.jsxs)("h3",{class:"chat-page__room",children:["Room #",t]}),Object(u.jsx)(o.a,{queries:{small:"(max-width: 426px)"},children:function(s){return Object(u.jsx)(u.Fragment,{children:s.small?Object(u.jsxs)(u.Fragment,{children:[_?"":Object(u.jsxs)("span",{class:"chat-page__online",children:["Online:"," ",Object(u.jsx)("strong",{children:c.length})]}),Object(u.jsx)("button",{onClick:function(){return b(!_)},className:"chat-page__show-online-btn",children:Object(u.jsx)("svg",{id:"Capa_1","enable-background":"new 0 0 512 512",height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsxs)("g",{children:[Object(u.jsx)("circle",{cx:"256",cy:"119.631",r:"87"}),Object(u.jsx)("circle",{cx:"432",cy:"151.63",r:"55"}),Object(u.jsx)("circle",{cx:"80",cy:"151.63",r:"55"}),Object(u.jsx)("path",{d:"m134.19 256.021c-21.65-17.738-41.257-15.39-66.29-15.39-37.44 0-67.9 30.28-67.9 67.49v109.21c0 16.16 13.19 29.3 29.41 29.3 70.026 0 61.59 1.267 61.59-3.02 0-77.386-9.166-134.137 43.19-187.59z"}),Object(u.jsx)("path",{d:"m279.81 241.03c-43.724-3.647-81.729.042-114.51 27.1-54.857 43.94-44.3 103.103-44.3 175.48 0 19.149 15.58 35.02 35.02 35.02 211.082 0 219.483 6.809 232-20.91 4.105-9.374 2.98-6.395 2.98-96.07 0-71.226-61.673-120.62-111.19-120.62z"}),Object(u.jsx)("path",{d:"m444.1 240.63c-25.17 0-44.669-2.324-66.29 15.39 51.965 53.056 43.19 105.935 43.19 187.59 0 4.314-7.003 3.02 60.54 3.02 16.8 0 30.46-13.61 30.46-30.34v-108.17c0-37.21-30.46-67.49-67.9-67.49z"})]})})})]}):""})}})]}),Object(u.jsxs)("aside",{class:"chat-page__sidebar ".concat(_?"showed":""),children:[Object(u.jsxs)("span",{class:"chat-page__online",children:["Online: ",Object(u.jsx)("strong",{children:c.length})]}),Object(u.jsx)("div",{className:"chat-page__users",children:Object(u.jsxs)("div",{class:"chat-page__users-row",children:[c.map((function(s,e){return Object(u.jsx)("div",{class:"chat-page__user",children:s},s+e)})),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"}),Object(u.jsx)("div",{class:"chat-page__user",children:"testtsds"})]})})]}),Object(u.jsx)("div",{class:"chat-page__dialog chat-dialog",children:Object(u.jsxs)("div",{class:"chat-dialog__body",children:[Object(u.jsx)("div",{ref:O,class:"chat-dialog__messages",id:"chat-msgs-body",children:Object(u.jsx)("div",{class:"chat-dialog__messages-body",children:n.map((function(s){return Object(u.jsxs)("div",{class:"chat-dialog__msg chat-msg ".concat((null===s||void 0===s?void 0:s.userName)==e?"my-msg":""),children:[Object(u.jsx)("span",{class:"chat-msg__name",children:null===s||void 0===s?void 0:s.userName}),Object(u.jsx)("span",{class:"chat-msg__text",children:null===s||void 0===s?void 0:s.text}),Object(u.jsx)("span",{class:"chat-msg__time",children:null===s||void 0===s?void 0:s.time})]})}))})}),Object(u.jsxs)("form",{onSubmit:p((function(s){console.log(s),j.emit("ROOM_NEW_MSG",{roomId:t,userName:e,text:s.message}),m()})),class:"chat-dialog__send-block",children:[Object(u.jsx)("input",Object(i.a)(Object(i.a)({},x("message",{required:!0})),{},{placeholder:"Your message",rows:"2",class:"chat-dialog__input"})),Object(u.jsx)("button",{type:"submit",class:"chat-dialog__send-btn",children:Object(u.jsx)("img",{src:"https://img.icons8.com/material-rounded/192/000000/filled-sent.png"})})]})]})})]})})})}),g=(t(123),function(){var s=a.a.useState(!1),e=Object(d.a)(s,2),t=(e[0],e[1],a.a.useReducer(b,{userName:null,roomId:null,isAuth:!1,users:[],messages:[]})),c=Object(d.a)(t,2),n=c[0],r=c[1];return a.a.useEffect((function(){j.on("ROOM_SET_USERS",(function(s){return r({type:"SET_USERS",users:s})})),j.on("ROOM_SET_ALL_DATA",(function(s){var e=s.users,t=s.messages;r({type:"SET_USERS",users:e}),r({type:"SET_MESSAGES",messages:t})})),j.on("ROOM_ADD_MSG",(function(s){return r({type:"ADD_MSG",msg:s})}))}),[]),Object(u.jsx)("div",{className:"app",children:Object(u.jsx)(O,Object(i.a)({},n))})});r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root"))},65:function(s,e,t){}},[[124,1,2]]]);
//# sourceMappingURL=main.9d4b3f7b.chunk.js.map