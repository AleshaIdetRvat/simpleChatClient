{"version":3,"sources":["socket.js","components/EntryPage/EntryPage.jsx","reducers/AppReducer.js","components/common/Preloader/Preloader.jsx","components/ChatPage/ChatPage.jsx","App.jsx","index.js"],"names":["socket","io","InputWithValidate","className","register","placeholder","defaultValue","error","errorMsg","class","EntryPage","onLogin","setLoading","isLoading","defaultName","React","useState","setError","useForm","handleSubmit","errors","formState","onSubmit","data","a","axios","post","get","getData","console","log","roomId","required","maxLength","type","AppReducer","state","action","payload","isAuth","users","messages","msg","Preloader","loading","closing","setClosing","timer","useRef","prevLoading","value","ref","useEffect","current","usePrevious","clearTimeout","setTimeout","style","display","ChatPage","userName","showSidebar","setShowSidebar","chat","reset","scrollTop","scrollHeight","length","queries","small","matches","onClick","id","enable-background","height","viewBox","width","xmlns","cx","cy","r","d","map","user","i","text","time","emit","message","rows","src","App","useReducer","dispatch","on","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.896c9832.chunk.js","sourcesContent":["import io from \"socket.io-client\"\r\nconst socket = io(\"https://tranquil-reef-66373.herokuapp.com\")\r\n\r\nexport default socket\r\n","import React from \"react\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport axios from \"axios\"\r\nimport \"./EntryPage.scss\"\r\n\r\nconst InputWithValidate = ({\r\n    className,\r\n    register,\r\n    placeholder,\r\n    defaultValue = \"\",\r\n    error,\r\n    errorMsg = \"\",\r\n}) => {\r\n    return (\r\n        <div class={`input-with-validate ${error && \"with-error\"} ${className}`}>\r\n            <input defaultValue={defaultValue} placeholder={placeholder} {...register} />\r\n            {error && <div class=\"input-with-validate__error\">{errorMsg}</div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst EntryPage = ({ onLogin, isLoading, setLoading, defaultName }) => {\r\n    const [error, setError] = React.useState(null)\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        //watch,\r\n        formState: { errors },\r\n    } = useForm()\r\n\r\n    const onSubmit = async (data) => {\r\n        try {\r\n            // let config = {\r\n            //     headers: {\r\n            //         Accept: \"application/json\",\r\n            //         \"Access-Control-Allow-Origin\": \"*\",\r\n            //         \"X-Requested-With\": \"XMLHttpRequest\",\r\n            //         \"Access-Control-Allow-Methods\": \"GET,POST,PUT,DELETE,OPTIONS\",\r\n            //         \"Access-Control-Allow-Headers\":\r\n            //             \"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\",\r\n            //     },\r\n            // }\r\n\r\n            setError(null)\r\n            setLoading(true)\r\n            await axios.post(\"https://tranquil-reef-66373.herokuapp.com/rooms\", data)\r\n            const getData = await axios.get(\r\n                \"https://tranquil-reef-66373.herokuapp.com/rooms/1\"\r\n            )\r\n            console.log(\"getData\", getData)\r\n\r\n            onLogin(data)\r\n        } catch (error) {\r\n            setError(\"This username already exists\")\r\n            //console.log(error)\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    //console.log(watch(\"example\")) // watch input value by passing the name of it\r\n\r\n    return (\r\n        <>\r\n            <div class=\"entry-page\">\r\n                <form class=\"entry-page__form\" onSubmit={handleSubmit(onSubmit)}>\r\n                    <InputWithValidate\r\n                        className=\"entry-page__room-id\"\r\n                        errorMsg=\"Field required\"\r\n                        error={errors.roomId}\r\n                        placeholder={\"Room id\"}\r\n                        register={register(\"roomId\", { required: true })}\r\n                    />\r\n                    <InputWithValidate\r\n                        defaultValue={defaultName}\r\n                        className=\"entry-page__user-name\"\r\n                        errorMsg={error}\r\n                        error={error}\r\n                        placeholder={\"Your name\"}\r\n                        register={register(\"userName\", { required: true, maxLength: 10 })}\r\n                    />\r\n\r\n                    <button className=\"entry-page__btn\" type=\"submit\">\r\n                        entry\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n    /* \"handleSubmit\" will validate your inputs before invoking \"onSubmit\" */\r\n}\r\n\r\nexport default EntryPage\r\n","const AppReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"SET_AUTH\":\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuth: true,\r\n            }\r\n        case \"SET_USERS\":\r\n            return {\r\n                ...state,\r\n                users: action.users,\r\n            }\r\n        case \"SET_MESSAGES\":\r\n            return {\r\n                ...state,\r\n                messages: action.messages,\r\n            }\r\n        case \"ADD_MSG\":\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, action.msg],\r\n            }\r\n\r\n        default:\r\n            break\r\n    }\r\n}\r\nexport default AppReducer\r\n","import React from \"react\"\r\nimport \"./Preloader.scss\"\r\n\r\nfunction usePrevious(value) {\r\n    const ref = React.useRef()\r\n    React.useEffect(() => {\r\n        ref.current = value\r\n    })\r\n    return ref.current\r\n}\r\n\r\nconst Preloader = ({ loading }) => {\r\n    const [closing, setClosing] = React.useState(false)\r\n\r\n    let timer = React.useRef(null)\r\n    let prevLoading = usePrevious(loading)\r\n\r\n    React.useEffect(() => {\r\n        if (!loading && prevLoading) {\r\n            setClosing(true)\r\n\r\n            clearTimeout(timer.current)\r\n\r\n            timer.current = setTimeout(() => {\r\n                setClosing(false)\r\n            }, 300)\r\n        }\r\n    }, [loading, prevLoading])\r\n    return (\r\n        <div\r\n            style={loading || closing ? { display: \"block\" } : { display: \"none\" }}\r\n            className={`main-preloader ${closing && \"preloader-closing\"}`}\r\n        >\r\n            <div className=\"main-preloader__body\">\r\n                <div className=\"main-preloader__icon lds-dual-ring\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader\r\n","import React from \"react\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport Preloader from \"../common/Preloader/Preloader\"\r\nimport socket from \"../../socket\"\r\nimport Media from \"react-media\"\r\nimport \"./ChatPage.scss\"\r\n\r\nconst ChatPage = ({ userName, roomId, isAuth, users, messages }) => {\r\n    //\r\n    const [showSidebar, setShowSidebar] = React.useState(false)\r\n\r\n    const chat = React.useRef(null)\r\n\r\n    const chatGoDown = () => {\r\n        // it isn't action creator, it is dirty function!)\r\n        chat.current.scrollTop = chat.current.scrollHeight\r\n    }\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        reset,\r\n        //formState: { errors },\r\n    } = useForm()\r\n\r\n    const onSubmit = (msg) => {\r\n        console.log(msg)\r\n        socket.emit(\"ROOM_NEW_MSG\", { roomId, userName, text: msg.message })\r\n        reset()\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        chatGoDown()\r\n    }, [messages])\r\n\r\n    return (\r\n        <>\r\n            <Preloader loading={!users.length} />\r\n\r\n            <div class=\"chat-page\">\r\n                <div class=\"chat-page__body\">\r\n                    <header class=\"chat-page__header\">\r\n                        <h3 class=\"chat-page__room\">Room #{roomId}</h3>\r\n\r\n                        <Media\r\n                            queries={{\r\n                                small: \"(max-width: 426px)\",\r\n                            }}\r\n                        >\r\n                            {(matches) => (\r\n                                <>\r\n                                    {matches.small ? (\r\n                                        <>\r\n                                            {showSidebar ? (\r\n                                                \"\"\r\n                                            ) : (\r\n                                                <span class=\"chat-page__online\">\r\n                                                    Online:{\" \"}\r\n                                                    <strong>{users.length}</strong>\r\n                                                </span>\r\n                                            )}\r\n                                            <button\r\n                                                onClick={() =>\r\n                                                    setShowSidebar(!showSidebar)\r\n                                                }\r\n                                                className=\"chat-page__show-online-btn\"\r\n                                            >\r\n                                                <svg\r\n                                                    id=\"Capa_1\"\r\n                                                    enable-background=\"new 0 0 512 512\"\r\n                                                    height=\"512\"\r\n                                                    viewBox=\"0 0 512 512\"\r\n                                                    width=\"512\"\r\n                                                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                >\r\n                                                    <g>\r\n                                                        <circle\r\n                                                            cx=\"256\"\r\n                                                            cy=\"119.631\"\r\n                                                            r=\"87\"\r\n                                                        />\r\n                                                        <circle\r\n                                                            cx=\"432\"\r\n                                                            cy=\"151.63\"\r\n                                                            r=\"55\"\r\n                                                        />\r\n                                                        <circle\r\n                                                            cx=\"80\"\r\n                                                            cy=\"151.63\"\r\n                                                            r=\"55\"\r\n                                                        />\r\n                                                        <path d=\"m134.19 256.021c-21.65-17.738-41.257-15.39-66.29-15.39-37.44 0-67.9 30.28-67.9 67.49v109.21c0 16.16 13.19 29.3 29.41 29.3 70.026 0 61.59 1.267 61.59-3.02 0-77.386-9.166-134.137 43.19-187.59z\" />\r\n                                                        <path d=\"m279.81 241.03c-43.724-3.647-81.729.042-114.51 27.1-54.857 43.94-44.3 103.103-44.3 175.48 0 19.149 15.58 35.02 35.02 35.02 211.082 0 219.483 6.809 232-20.91 4.105-9.374 2.98-6.395 2.98-96.07 0-71.226-61.673-120.62-111.19-120.62z\" />\r\n                                                        <path d=\"m444.1 240.63c-25.17 0-44.669-2.324-66.29 15.39 51.965 53.056 43.19 105.935 43.19 187.59 0 4.314-7.003 3.02 60.54 3.02 16.8 0 30.46-13.61 30.46-30.34v-108.17c0-37.21-30.46-67.49-67.9-67.49z\" />\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </button>\r\n                                        </>\r\n                                    ) : (\r\n                                        \"\"\r\n                                    )}\r\n                                </>\r\n                            )}\r\n                        </Media>\r\n                    </header>\r\n                    <aside class={`chat-page__sidebar ${showSidebar ? \"showed\" : \"\"}`}>\r\n                        <span class=\"chat-page__online\">\r\n                            Online: <strong>{users.length}</strong>\r\n                        </span>\r\n                        <div className=\"chat-page__users\">\r\n                            <div class=\"chat-page__users-row\">\r\n                                {users.map((user, i) => (\r\n                                    <div key={user + i} class=\"chat-page__user\">\r\n                                        {user}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </aside>\r\n\r\n                    <div class=\"chat-page__dialog chat-dialog\">\r\n                        <div class=\"chat-dialog__body\">\r\n                            <div\r\n                                ref={chat}\r\n                                class=\"chat-dialog__messages\"\r\n                                id=\"chat-msgs-body\"\r\n                            >\r\n                                <div class=\"chat-dialog__messages-body\">\r\n                                    {messages.map((msg) => (\r\n                                        <div\r\n                                            class={`chat-dialog__msg chat-msg ${\r\n                                                msg?.userName == userName ? \"my-msg\" : \"\"\r\n                                            }`}\r\n                                        >\r\n                                            <span class=\"chat-msg__name\">\r\n                                                {msg?.userName}\r\n                                            </span>\r\n                                            <span class=\"chat-msg__text\">\r\n                                                {msg?.text}\r\n                                            </span>\r\n                                            <span class=\"chat-msg__time\">\r\n                                                {msg?.time}\r\n                                            </span>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                            <form\r\n                                onSubmit={handleSubmit(onSubmit)}\r\n                                class=\"chat-dialog__send-block\"\r\n                            >\r\n                                <input\r\n                                    {...register(\"message\", {\r\n                                        required: true,\r\n                                    })}\r\n                                    placeholder=\"Your message\"\r\n                                    rows=\"2\"\r\n                                    class=\"chat-dialog__input\"\r\n                                />\r\n                                <button type=\"submit\" class=\"chat-dialog__send-btn\">\r\n                                    <img src=\"https://img.icons8.com/material-rounded/192/000000/filled-sent.png\" />\r\n                                </button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatPage\r\n","import React from \"react\"\nimport socket from \"./socket\"\nimport EntryPage from \"./components/EntryPage/EntryPage\"\nimport AppReducer from \"./reducers/AppReducer\"\nimport ChatPage from \"./components/ChatPage/ChatPage\"\nimport Preloader from \"./components/common/Preloader/Preloader\"\nimport \"./App.scss\"\n\n//window.socket = socket\n\nconst App = () => {\n    const [isLoading, setLoading] = React.useState(false)\n\n    const [state, dispatch] = React.useReducer(AppReducer, {\n        userName: null,\n        roomId: null,\n        isAuth: false,\n        users: [],\n        messages: [],\n    })\n\n    const onLogin = (data) => {\n        dispatch({ type: \"SET_AUTH\", payload: data })\n        socket.emit(\"ROOM_JOIN\", data)\n    }\n    React.useEffect(() => {\n        socket.on(\"ROOM_SET_USERS\", (users) => dispatch({ type: \"SET_USERS\", users }))\n        socket.on(\"ROOM_SET_ALL_DATA\", ({ users, messages }) => {\n            dispatch({ type: \"SET_USERS\", users })\n            dispatch({ type: \"SET_MESSAGES\", messages })\n        })\n        socket.on(\"ROOM_ADD_MSG\", (msg) => dispatch({ type: \"ADD_MSG\", msg }))\n    }, [])\n\n    return (\n        <div className=\"app\">\n            <Preloader loading={isLoading} />\n            {state.isAuth ? (\n                <ChatPage {...state} />\n            ) : (\n                <EntryPage\n                    defaultName={state.userName}\n                    onLogin={onLogin}\n                    isLoading={isLoading}\n                    setLoading={setLoading}\n                />\n            )}\n        </div>\n    )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n)\n"],"sourceRoot":""}